- provide(:title, @recipe.name)

.hide-on-print
  - if @recipe.user == current_user
    .grid-x
      .small-12.cell
        .float-right
          = link_to 'Edit', edit_recipe_path(@recipe)
          or
          = link_to 'Destroy', @recipe, method: :delete, data: { confirm: 'Are you sure?' }
          your Recipe

  .grid-x
    .small-12.cell
      %p
        %b Assigned Categories:
        = links_to_categories(@recipe)

.grid-x
  .medium-7.cell
    .hide-on-print
      %h4
        - if signed_in? && current_user != @recipe.user
          = render 'recipes/favor_form', recipe: @recipe
        - elsif !signed_in?
          = link_to log_in_recipe_path(@recipe) do
            %i.fa.fa-sign-in
            Log in to
            %i.red-text.fa.fa-heart
            add to favorites
      .recipe_stats
        = render 'recipes/stats', recipe: @recipe

    %h1
      = @recipe.name
    = link_to user_path(@recipe.user) do
      %b Posted by:
      = @recipe.user.username
    - if @recipe.source?
      %p
        %b Source:
        = @recipe.source
    %p
      %b Description:
      %br/
      = @recipe.description
  .medium-5.cell
    .center= image_tag medium_image(@recipe.image),
    class: 'max-image-height' if @recipe.image.attached?

.grid-x
  .small-12.cell
    - if @recipe.ingredients.any?
      %h4 Ingredients:
      .callout
        - @recipe.parts.each do |part|
          - if @recipe.parts.count > 1
            %h4= part.name
          = render part.ingredients
          %br/

    - if @recipe.steps.any?
      %h4 Steps:
      .callout
        - @recipe.parts.each do |part|
          - if @recipe.parts.count > 1
            %h4= part.name
          - part.steps.each_with_index do |step, index|
            %span.red-text= "#{index += 1}."
            = step.description
            %br/
          %br/

    .hide-on-print
      = link_to 'All Recipes', recipes_path
